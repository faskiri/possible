(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1789:function(e,n,t){Promise.resolve().then(t.bind(t,963))},963:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return L}});var s=t(7437),i=t(2265),r=t(6548),o=t(270),c=t(2197),l=t(8929),a=t(6645),d=t(8884),h=t(2674),u=t(511),x=t(4691),j=t(7116),p=t(6351),g=t(359),Z=t(335),f=t(2326),m=t(8402),v=t(9806),y=t(5253),w=t(7590),b=t(1665);function C(){return(0,s.jsxs)(u.Z,{variant:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",(0,s.jsx)(b.Z,{color:"inherit",children:"Fe Lounge"})," ",new Date().getFullYear(),"."]})}var k=t(9504),q=t(1733),N=t(1326),S=t(7163);function _(){return(0,s.jsx)(N.Z,{sx:{flexGrow:1},children:(0,s.jsx)(q.Z,{position:"static",children:(0,s.jsxs)(v.Z,{children:[(0,s.jsx)(Z.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:(0,s.jsx)(k.Z,{})}),(0,s.jsx)(u.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"News"}),(0,s.jsx)(S.T,{})]})})})}function A(e){let{accessToken:n}=(0,i.useContext)(S.V);return(0,s.jsx)(r.Z,{color:"inherit",onClick:()=>(function(){let t="Public Menu";fetch("".concat("https://www.googleapis.com/drive/v3/files","?q=mimeType='").concat("application/vnd.google-apps.spreadsheet","' and name='").concat(t,"'"),{headers:{Authorization:"Bearer "+n}}).then(s=>{s.json().then(s=>{1!=s.files.length&&console.log("was expecting exactly one file named '".concat(t,"', found: ").concat(s.files.length));let i=s.files[0].id;fetch("https://sheets.googleapis.com/v4/spreadsheets/".concat(i,"/values/").concat("'Published Version'!A1:G100"),{headers:{Authorization:"Bearer "+n}}).then(n=>{n.json().then(n=>{let t=n.values;(t.length<2||t>99)&&console.log("too much or too less data");var s=[];for(let e=1;e<t.length;e++)s.push({id:e,name:t[e][0],description:t[e][1],price:Number(t[e][2])});e.onSuccess(s)})})})}).catch(e=>{console.log(e)})})(),style:{display:""!=n?"block":"none"},children:"Refresh Menu"})}function L(){let[e,n]=(0,i.useState)(""),[t,b]=(0,i.useState)([]),k=t.filter(n=>{let t=e.toLowerCase();return n.name.toLowerCase().includes(t)||n.description.toLowerCase().includes(t)}),q=(e,n)=>{b(t=>t.map(t=>e===t.id?{...t,quantity:Math.max(0,n+t.quantity)}:t))},N=()=>b(e=>e.map(e=>({...e,quantity:0})));return(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(_,{}),(0,s.jsxs)(o.Z,{children:[(0,s.jsxs)(v.Z,{sx:{height:96,display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)(m.Z,{value:e,onChange:e=>{n(e.target.value)},placeholder:"Search item...",startAdornment:(0,s.jsx)(f.Z,{position:"start"})}),(0,s.jsx)(A,{onSuccess:e=>{b(e.map(e=>({...e,quantity:0})))}})]}),(0,s.jsx)(h.Z,{children:(0,s.jsxs)(a.Z,{children:[(0,s.jsx)(x.Z,{children:(0,s.jsxs)(j.Z,{children:[(0,s.jsx)(p.Z,{sx:{width:"75%"},children:"Name"}),(0,s.jsx)(p.Z,{children:"Price"}),(0,s.jsx)(p.Z,{})]})}),(0,s.jsx)(d.Z,{children:k.map(e=>(0,s.jsxs)(j.Z,{children:[(0,s.jsxs)(p.Z,{children:[(0,s.jsx)(u.Z,{variant:"body1",children:e.name}),(0,s.jsx)(u.Z,{variant:"caption",children:e.description})]}),(0,s.jsx)(p.Z,{children:"".concat("₹"," ").concat(e.price.toFixed(2))}),(0,s.jsx)(p.Z,{children:(0,s.jsxs)(l.Z,{direction:"row",spacing:1,alignItems:"center",justifyContent:"right",children:[(0,s.jsx)(Z.Z,{onClick:()=>q(e.id,-1),children:(0,s.jsx)(w.Z,{})}),(0,s.jsx)(u.Z,{variant:"body2",children:e.quantity}),(0,s.jsx)(Z.Z,{onClick:()=>q(e.id,1),children:(0,s.jsx)(y.Z,{})})]})})]},e.id))}),(0,s.jsx)(g.Z,{children:(0,s.jsxs)(j.Z,{children:[(0,s.jsx)(p.Z,{sx:{fontWeight:"bold"},variant:"body",children:"Total:"}),(0,s.jsx)(p.Z,{sx:{fontWeight:"bold"},variant:"body",children:"".concat("₹"," ").concat(t.reduce((e,n)=>e+n.price*n.quantity,0).toFixed(2))}),(0,s.jsxs)(p.Z,{style:{textAlign:"right"},children:[" ",(0,s.jsx)(r.Z,{variant:"contained",color:"error",onClick:()=>N(),children:"Clear Cart"})]})]})})]})})]}),(0,s.jsx)(C,{})]})}},7163:function(e,n,t){"use strict";t.d(n,{T:function(){return a},V:function(){return c},default:function(){return l}});var s=t(7437),i=t(6548),r=t(8735),o=t(2265);let c=(0,o.createContext)({accessToken:"",setAccessToken:e=>{}});function l(e){let[n,t]=(0,o.useState)("");return(0,s.jsx)(r.rg,{clientId:"177687399588-lmqkblbpb36m3ujr61r16pga5tjtd18s.apps.googleusercontent.com",children:(0,s.jsx)(c.Provider,{value:{accessToken:n,setAccessToken:t},children:e.children})})}function a(){let{accessToken:e,setAccessToken:n}=(0,o.useContext)(c),t=(0,r.Nq)({scope:"https://www.googleapis.com/auth/spreadsheets.readonly https://www.googleapis.com/auth/drive.metadata.readonly",onSuccess:e=>{n(e.access_token)},onError:e=>console.log("Login Failed:",e)});return(0,s.jsx)(i.Z,{color:"inherit",onClick:()=>t(),style:{display:""==e?"block":"none"},children:"Login"})}}},function(e){e.O(0,[731,511,971,23,744],function(){return e(e.s=1789)}),_N_E=e.O()}]);